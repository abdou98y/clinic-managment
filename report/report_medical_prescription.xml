<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="template_medical_prescription">
        <t t-call="web.html_container">
            <style>
                @media print {
                    body { margin: 0; padding: 0; }
                    .page { page-break-after: always; width: 210mm; height: 297mm; /* A4 size */ }
                    /* Hide non-printable elements */
                    .o_report_layout_standard .header, .o_report_layout_standard .footer { display: none !important; }
                }
            </style>
            <h1>looooooooooooooooooooooooooooooooooooooooooool</h1>
                <t t-foreach="docs" t-as="doc">
                <div class="page" style="font-family: 'Tajawal', sans-serif; direction: rtl; padding: 10mm;">

                    <!-- Header -->
                    <div style="width:100%; display:flex; justify-content:space-between;">

                        <!-- Left box -->
                        <div style="border:2px solid #000; padding:10px; width:35%; font-size:14px; text-align: left;">
                            <div>Date: <span t-esc="doc.date.strftime('%d/%m/%Y') if doc.date else ''"/></div>
                            <div>Name: <span t-esc="doc.patient_id.name or '........'"/></div>
                            <div>Age: <span t-esc="doc.age or '........'"/> Code No: <span t-esc="doc.code_no or '........'"/></div>
                            <div>Re-Ex: <span t-esc="doc.re_ex or '........'"/></div>
                        </div>

                        <!-- Doctor Info -->
                        <div style="width:60%; text-align:center; line-height:1.4;">
                            <div style="font-size:22px; font-weight:bold;">ุฏูุชููููููููููุฑ</div>
                            <div style="font-size:26px; font-weight:bold;">ุทุงุฑู ุงูุณูุฏ ุนุจุฏุงููู</div>
                            <div style="font-size:15px;">
                                ูุงุฌุณุชูุฑ ุงูุจุงุทูุฉ ุฌุงูุนุฉ ุงููุงูุฑุฉ ( ูุตุฑ ุงูุนููู )
                                <br/>ุงูุจูุฑุฏ ุงูุนุฑุจู โ ุงูุจุงุทูุฉ ุงูุนุงูุฉ
                                <br/>ุงููุนูุฏ ุงููููู ููุณูุฑ ูุงูุบุฏุฏ ุงูุตูุงุก ุจุงููุงูุฑุฉ
                                <br/>ุงุณุชุดุงุฑู ุงูุจุงุทูุฉ ูุงูุณูุฑ ูุงูุบุฏุฏ ุงูุตูุงุก ( ูุจุงุฑ )
                            </div>
                        </div>

                    </div>

                    <!-- Center line + R/ sign -->
                    <div style="margin-top:15px; border-bottom:2px solid #000; width:100%;"></div>
                    <div style="margin-top:-10px; margin-right:10px; font-size:48px; font-family:Times New Roman;">
                        R/
                    </div>

                    <!-- Prescription Body -->
                    <div style="margin-top:20px; min-height:350px; font-size:18px;">
                        <t t-if="not doc.treatment_line_ids">
                            <p style="text-align:center; color:gray;">ูุง ุชูุฌุฏ ุนูุงุฌุงุช</p>  <!-- Fallback for no lines -->
                        </t>
                        <!-- Medicine lines -->
                        <t t-foreach="doc.treatment_line_ids or []" t-as="line">
                            <div style="margin-bottom:25px;">
                                <div style="font-weight:bold; font-size:20px;" t-esc="line.treatment_id.name or line.treatment_name or 'ุงุณู ุงูุฏูุงุก'"/>
                                <div style="font-size:16px; margin-right:15px;" t-esc="line.usage_ar or 'ุทุฑููุฉ ุงูุงุณุชุนูุงู'"/>
                            </div>
                        </t>
                    </div>

                    <!-- Footer -->
                    <div style="text-align:right; font-size:16px; margin-top:30px;">
                        ูุนุชุฐุฑ ุนู ุงุณุชูุจุงู ุญุงูุงุช ุงูุทูุงุฑุฆ
                        โ ุงููุดู ูุงูุงุณุชุดุงุฑุฉ ุจุญุฌุฒ ูุณุจู
                    </div>

                    <!-- Clinic Info -->
                    <div style="margin-top:25px; font-size:15px; text-align:right;">
                        <div>
                            <span style="font-size:20px;">๐</span>
                            ุนูุงุฏุฉ: ูุฑูุฒ ุจุฏุฑ ุฃูุงู ุจุฏุฑ ุณูุงู
                        </div>

                        <div>
                            <span style="font-size:20px;">๐</span>
                            01012000168
                        </div>

                        <div>
                            <span style="font-size:20px;">๐</span>
                            01021208060
                        </div>

                        <div>
                            <span style="font-size:20px;">๐</span>
                            ุนูุงุฏุฉ: ูุฏููุฉ ุงูุณุงุฏุงุชุ ุฎูู ูุณุชุดูู ุงูุณุงุฏุงุช ุงูุชุฎุตุตู
                            ุจุฌูุงุฑ ูุงุฏู ุงููููุฏุณูู
                        </div>
                    </div>

                </div>
            </t>
        </t>
    </template>
</odoo>